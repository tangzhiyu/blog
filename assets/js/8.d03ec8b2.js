(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{371:function(t,o,v){"use strict";v.r(o);var _=v(44),l=Object(_.a)({},(function(){var t=this,o=t.$createElement,v=t._self._c||o;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h1",{attrs:{id:"类加载过程"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#类加载过程"}},[t._v("#")]),t._v(" 类加载过程")]),t._v(" "),v("p",[v("img",{attrs:{src:"/jvm/class-loader-01.png",alt:"class-loader-process"}})]),t._v(" "),v("blockquote",[v("p",[v("em",[t._v("加载模块")])])]),t._v(" "),v("ol",[v("li",[t._v("通过一个类的全限定名获取定义此类的二进制字节流。")]),t._v(" "),v("li",[t._v("将这个字节流所代表的静态存储结构转换为"),v("font",{attrs:{color:"#dd0000"}},[t._v("方法区")]),t._v("中的运行时数据。")],1),t._v(" "),v("li",[t._v("在内存那种生成一个代表这个类的Class对象，作为方法区这个类的数据访问入口。")])]),t._v(" "),v("blockquote",[v("p",[t._v("链接模块")])]),t._v(" "),v("p",[v("em",[v("strong",[t._v("一. 校验")])])]),t._v(" "),v("ol",[v("li",[t._v("为了确保Class文件的字节流中包含了符合"),v("font",{attrs:{color:"#dd0000"}},[t._v("当前虚拟机")]),t._v("要求的信息，保证类的正确性，不会"),v("font",{attrs:{color:"#dd0000"}},[t._v("危害")]),t._v("虚拟机的自身安全。")],1),t._v(" "),v("li",[t._v("主要包含四种：文件格式校验，源数据校验，字节码校验，符号引用校验。")]),t._v(" "),v("li",[t._v("例如所有字节码文件"),v("font",{attrs:{color:"#dd0000"}},[t._v("固定")]),t._v("的前四个字节的魔术：CA FE BA BE (咖啡宝贝)")],1)]),t._v(" "),v("p",[v("em",[v("strong",[t._v("二. 准备")])])]),t._v(" "),v("ol",[v("li",[t._v("为"),v("font",{attrs:{color:"#dd0000"}},[t._v("类变量")]),t._v("分配内存并设置"),v("font",{attrs:{color:"#dd0000"}},[t._v("零值")]),t._v("(默认初始值，int->0，boolean->false)")],1),t._v(" "),v("li",[v("font",{attrs:{color:"#dd0000"}},[t._v("不包含")]),t._v("final定义的static变量，因为final定义的变量在编译时就分配了，在初始化阶段显示赋值。")],1),t._v(" "),v("li",[v("font",{attrs:{color:"#dd0000"}},[t._v("不包含")]),t._v("实例变量，实例变量会跟随对象的创建分配到堆中")],1)]),t._v(" "),v("p",[v("em",[v("strong",[t._v("三. 解析")])])]),t._v(" "),v("ol",[v("li",[t._v("将"),v("font",{attrs:{color:"#dd0000"}},[t._v("常量池")]),t._v("中的"),v("font",{attrs:{color:"#dd0000"}},[t._v("符号引用")]),t._v("转换成"),v("font",{attrs:{color:"#dd0000"}},[t._v("直接引用")]),t._v("的过程。")],1),t._v(" "),v("li",[t._v("符号引用：一组符号来描述所引用的目标。\n直接引用：直接指向目标的指针，偏移量或间接定位到目标的句柄")])])])}),[],!1,null,null,null);o.default=l.exports}}]);